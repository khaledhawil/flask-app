{% extends "base.html" %}

{% block title %}Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØµÙˆØª ÙˆØ§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª{% endblock %}

{% block styles %}
<style>
    .audio-settings-container {
        max-width: 800px;
        margin: 2rem auto;
        padding: 2rem;
        background: var(--card-bg);
        border-radius: 15px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    }

    .settings-header {
        text-align: center;
        margin-bottom: 2rem;
    }

    .settings-header h1 {
        color: var(--primary-color);
        font-size: 2rem;
        margin-bottom: 0.5rem;
    }

    .settings-section {
        background: var(--bg-color);
        padding: 1.5rem;
        border-radius: 10px;
        margin-bottom: 1.5rem;
        border: 1px solid var(--border-color);
    }

    .section-title {
        font-size: 1.3rem;
        font-weight: 600;
        color: var(--text-color);
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .setting-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1rem 0;
        border-bottom: 1px solid var(--border-color);
    }

    .setting-item:last-child {
        border-bottom: none;
    }

    .setting-label {
        font-weight: 500;
        color: var(--text-color);
    }

    .setting-description {
        font-size: 0.9rem;
        color: var(--text-muted);
        margin-top: 0.25rem;
    }

    .setting-control {
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .toggle-switch {
        position: relative;
        width: 50px;
        height: 26px;
        background: var(--border-color);
        border-radius: 13px;
        cursor: pointer;
        transition: background 0.3s;
    }

    .toggle-switch.active {
        background: var(--primary-color);
    }

    .toggle-switch::after {
        content: '';
        position: absolute;
        top: 2px;
        right: 2px;
        width: 22px;
        height: 22px;
        background: white;
        border-radius: 50%;
        transition: transform 0.3s;
    }

    .toggle-switch.active::after {
        transform: translateX(-24px);
    }

    .volume-slider {
        width: 120px;
        height: 6px;
        border-radius: 3px;
        background: var(--border-color);
        outline: none;
        -webkit-appearance: none;
    }

    .volume-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 18px;
        height: 18px;
        background: var(--primary-color);
        border-radius: 50%;
        cursor: pointer;
    }

    .test-button {
        background: var(--primary-color);
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 6px;
        cursor: pointer;
        font-size: 0.9rem;
        transition: all 0.3s;
    }

    .test-button:hover {
        background: var(--primary-hover);
        transform: translateY(-1px);
    }

    .time-input {
        padding: 0.5rem;
        border: 1px solid var(--border-color);
        border-radius: 6px;
        background: var(--bg-color);
        color: var(--text-color);
        width: 80px;
    }

    .quiet-hours {
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .status-indicator {
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
        font-size: 0.9rem;
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
    }

    .status-enabled {
        background: rgba(34, 197, 94, 0.1);
        color: #22c55e;
    }

    .status-disabled {
        background: rgba(239, 68, 68, 0.1);
        color: #ef4444;
    }

    .save-button {
        background: var(--success-color);
        color: white;
        border: none;
        padding: 1rem 2rem;
        border-radius: 8px;
        font-size: 1.1rem;
        cursor: pointer;
        width: 100%;
        margin-top: 1rem;
        transition: all 0.3s;
    }

    .save-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(34, 197, 94, 0.3);
    }

    .reset-button {
        background: var(--warning-color);
        color: white;
        border: none;
        padding: 0.8rem 1.5rem;
        border-radius: 6px;
        cursor: pointer;
        margin-top: 0.5rem;
        width: 100%;
        transition: all 0.3s;
    }

    .audio-preview {
        background: var(--bg-color);
        padding: 1rem;
        border-radius: 8px;
        margin-top: 1rem;
        border: 1px solid var(--border-color);
    }

    .preview-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin-top: 1rem;
    }

    .preview-item {
        text-align: center;
        padding: 1rem;
        background: var(--card-bg);
        border-radius: 8px;
        border: 1px solid var(--border-color);
    }

    .preview-icon {
        font-size: 2rem;
        margin-bottom: 0.5rem;
    }
</style>
{% endblock %}

{% block content %}
<div class="audio-settings-container">
    <div class="settings-header">
        <h1>ğŸ”Š Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØµÙˆØª ÙˆØ§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</h1>
        <p>ØªØ®ØµÙŠØµ Ø£ØµÙˆØ§Øª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©</p>
    </div>

    <!-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ø§Ù…Ø© -->
    <div class="settings-section">
        <h2 class="section-title">
            <i class="fas fa-volume-up"></i>
            Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
        </h2>
        
        <div class="setting-item">
            <div>
                <div class="setting-label">ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø£ØµÙˆØ§Øª</div>
                <div class="setting-description">ØªØ´ØºÙŠÙ„/Ø¥ÙŠÙ‚Ø§Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ØµÙˆØ§Øª</div>
            </div>
            <div class="setting-control">
                <span class="status-indicator" id="audioStatus">
                    <i class="fas fa-circle"></i>
                    Ù…ÙØ¹Ù„
                </span>
                <div class="toggle-switch active" id="audioToggle"></div>
            </div>
        </div>

        <div class="setting-item">
            <div>
                <div class="setting-label">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµÙˆØª</div>
                <div class="setting-description">Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ù…Ø³ØªÙˆÙ‰ ØµÙˆØª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</div>
            </div>
            <div class="setting-control">
                <span id="volumeValue">70%</span>
                <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="70">
            </div>
        </div>

        <div class="setting-item">
            <div>
                <div class="setting-label">Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ØµØ§Ù…Øª</div>
                <div class="setting-description">ØªØ­Ø¯ÙŠØ¯ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ù‡Ø¯ÙˆØ¡ (ÙŠØªÙ… Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ø£ØµÙˆØ§Øª Ø¨Ø§Ù„Ø§Ù‡ØªØ²Ø§Ø²)</div>
            </div>
            <div class="setting-control quiet-hours">
                <span>Ù…Ù†</span>
                <input type="time" class="time-input" id="quietStart" value="23:00">
                <span>Ø¥Ù„Ù‰</span>
                <input type="time" class="time-input" id="quietEnd" value="06:00">
            </div>
        </div>

        <div class="setting-item">
            <div>
                <div class="setting-label">Ø§Ù„Ø§Ù‡ØªØ²Ø§Ø²</div>
                <div class="setting-description">ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø§Ù‡ØªØ²Ø§Ø² Ù…Ø¹ Ø§Ù„Ø£ØµÙˆØ§Øª (Ù„Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©)</div>
            </div>
            <div class="setting-control">
                <div class="toggle-switch active" id="vibrationToggle"></div>
            </div>
        </div>
    </div>

    <!-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø£ØµÙˆØ§Øª Ø§Ù„ØµÙ„Ø§Ø© -->
    <div class="settings-section">
        <h2 class="section-title">
            <i class="fas fa-mosque"></i>
            Ø£ØµÙˆØ§Øª Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„ØµÙ„Ø§Ø©
        </h2>
        
        <div class="setting-item">
            <div>
                <div class="setting-label">ØµÙˆØª Ø£Ø°Ø§Ù† Ø§Ù„ÙØ¬Ø±</div>
                <div class="setting-description">ØµÙˆØª Ø®Ø§Øµ Ù„Ø£Ø°Ø§Ù† Ø§Ù„ÙØ¬Ø±</div>
            </div>
            <div class="setting-control">
                <button class="test-button" onclick="testSound('prayer', 'fajr')">
                    <i class="fas fa-play"></i> ØªØ¬Ø±Ø¨Ø©
                </button>
            </div>
        </div>

        <div class="setting-item">
            <div>
                <div class="setting-label">ØµÙˆØª Ø§Ù„Ø£Ø°Ø§Ù† Ø§Ù„Ø¹Ø§Ø¯ÙŠ</div>
                <div class="setting-description">Ù„Ù„ØµÙ„ÙˆØ§Øª Ø§Ù„Ø£Ø®Ø±Ù‰ (Ø§Ù„Ø¸Ù‡Ø±ØŒ Ø§Ù„Ø¹ØµØ±ØŒ Ø§Ù„Ù…ØºØ±Ø¨ØŒ Ø§Ù„Ø¹Ø´Ø§Ø¡)</div>
            </div>
            <div class="setting-control">
                <button class="test-button" onclick="testSound('prayer', 'dhuhr')">
                    <i class="fas fa-play"></i> ØªØ¬Ø±Ø¨Ø©
                </button>
            </div>
        </div>
    </div>

    <!-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø£ØµÙˆØ§Øª Ø§Ù„Ø£Ø°ÙƒØ§Ø± -->
    <div class="settings-section">
        <h2 class="section-title">
            <i class="fas fa-hands-praying"></i>
            Ø£ØµÙˆØ§Øª Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø£Ø°ÙƒØ§Ø±
        </h2>
        
        <div class="setting-item">
            <div>
                <div class="setting-label">Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­</div>
                <div class="setting-description">ØµÙˆØª ØªØ°ÙƒÙŠØ± Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­</div>
            </div>
            <div class="setting-control">
                <button class="test-button" onclick="testSound('azkar', 'morning')">
                    <i class="fas fa-play"></i> ØªØ¬Ø±Ø¨Ø©
                </button>
            </div>
        </div>

        <div class="setting-item">
            <div>
                <div class="setting-label">Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡</div>
                <div class="setting-description">ØµÙˆØª ØªØ°ÙƒÙŠØ± Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡</div>
            </div>
            <div class="setting-control">
                <button class="test-button" onclick="testSound('azkar', 'evening')">
                    <i class="fas fa-play"></i> ØªØ¬Ø±Ø¨Ø©
                </button>
            </div>
        </div>

        <div class="setting-item">
            <div>
                <div class="setting-label">Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù†ÙˆÙ…</div>
                <div class="setting-description">ØµÙˆØª ØªØ°ÙƒÙŠØ± Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù†ÙˆÙ…</div>
            </div>
            <div class="setting-control">
                <button class="test-button" onclick="testSound('azkar', 'sleep')">
                    <i class="fas fa-play"></i> ØªØ¬Ø±Ø¨Ø©
                </button>
            </div>
        </div>

        <div class="setting-item">
            <div>
                <div class="setting-label">Ø§Ù„Ø§Ø³ØªØºÙØ§Ø± ÙˆØ§Ù„Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ø¹Ø§Ù…Ø©</div>
                <div class="setting-description">ØµÙˆØª ØªØ°ÙƒÙŠØ±Ø§Øª Ø§Ù„Ø°ÙƒØ± Ø§Ù„Ø¹Ø§Ù…Ø©</div>
            </div>
            <div class="setting-control">
                <button class="test-button" onclick="testSound('azkar', 'general')">
                    <i class="fas fa-play"></i> ØªØ¬Ø±Ø¨Ø©
                </button>
            </div>
        </div>
    </div>

    <!-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø£ØµÙˆØ§Øª Ø£Ø®Ø±Ù‰ -->
    <div class="settings-section">
        <h2 class="section-title">
            <i class="fas fa-book-quran"></i>
            Ø£ØµÙˆØ§Øª Ø£Ø®Ø±Ù‰
        </h2>
        
        <div class="setting-item">
            <div>
                <div class="setting-label">ØªØ°ÙƒÙŠØ± Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù‚Ø±Ø¢Ù†</div>
                <div class="setting-description">ØµÙˆØª ØªØ°ÙƒÙŠØ± Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</div>
            </div>
            <div class="setting-control">
                <button class="test-button" onclick="testSound('quran')">
                    <i class="fas fa-play"></i> ØªØ¬Ø±Ø¨Ø©
                </button>
            </div>
        </div>

        <div class="setting-item">
            <div>
                <div class="setting-label">ØµÙˆØª Ø§Ù„ØªØ³Ø¨ÙŠØ­</div>
                <div class="setting-description">ØµÙˆØª Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„ØªØ³Ø¨ÙŠØ­</div>
            </div>
            <div class="setting-control">
                <button class="test-button" onclick="testSound('tasbeh')">
                    <i class="fas fa-play"></i> ØªØ¬Ø±Ø¨Ø©
                </button>
            </div>
        </div>

        <div class="setting-item">
            <div>
                <div class="setting-label">Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©</div>
                <div class="setting-description">ØµÙˆØª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© ÙˆØ§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª</div>
            </div>
            <div class="setting-control">
                <button class="test-button" onclick="testSound('general')">
                    <i class="fas fa-play"></i> ØªØ¬Ø±Ø¨Ø©
                </button>
            </div>
        </div>
    </div>

    <!-- Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø£ØµÙˆØ§Øª -->
    <div class="audio-preview">
        <h3>ğŸµ Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø£ØµÙˆØ§Øª</h3>
        <p>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø£Ø¯Ù†Ø§Ù‡ Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø£ØµÙˆØ§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ©:</p>
        
        <div class="preview-grid">
            <div class="preview-item">
                <div class="preview-icon">ğŸŒ…</div>
                <h4>Ø£Ø°Ø§Ù† Ø§Ù„ÙØ¬Ø±</h4>
                <button class="test-button" onclick="testSound('prayer', 'fajr')">ØªØ¬Ø±Ø¨Ø©</button>
            </div>
            <div class="preview-item">
                <div class="preview-icon">ğŸ•Œ</div>
                <h4>Ø§Ù„Ø£Ø°Ø§Ù† Ø§Ù„Ø¹Ø§Ø¯ÙŠ</h4>
                <button class="test-button" onclick="testSound('prayer', 'dhuhr')">ØªØ¬Ø±Ø¨Ø©</button>
            </div>
            <div class="preview-item">
                <div class="preview-icon">â˜€ï¸</div>
                <h4>Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­</h4>
                <button class="test-button" onclick="testSound('azkar', 'morning')">ØªØ¬Ø±Ø¨Ø©</button>
            </div>
            <div class="preview-item">
                <div class="preview-icon">ğŸŒ„</div>
                <h4>Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡</h4>
                <button class="test-button" onclick="testSound('azkar', 'evening')">ØªØ¬Ø±Ø¨Ø©</button>
            </div>
            <div class="preview-item">
                <div class="preview-icon">ğŸ“–</div>
                <h4>ØªØ°ÙƒÙŠØ± Ø§Ù„Ù‚Ø±Ø¢Ù†</h4>
                <button class="test-button" onclick="testSound('quran')">ØªØ¬Ø±Ø¨Ø©</button>
            </div>
            <div class="preview-item">
                <div class="preview-icon">ğŸ“¿</div>
                <h4>ØµÙˆØª Ø§Ù„ØªØ³Ø¨ÙŠØ­</h4>
                <button class="test-button" onclick="testSound('tasbeh')">ØªØ¬Ø±Ø¨Ø©</button>
            </div>
        </div>
    </div>

    <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø­ÙØ¸ ÙˆØ§Ù„Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† -->
    <button class="save-button" onclick="saveAudioSettings()">
        <i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
    </button>
    
    <button class="reset-button" onclick="resetToDefaults()">
        <i class="fas fa-undo"></i> Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
    </button>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    loadAudioSettings();
    setupEventListeners();
});

function loadAudioSettings() {
    if (window.audioManager) {
        const settings = window.audioManager.getSettings();
        
        // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
        document.getElementById('audioToggle').classList.toggle('active', settings.enabled);
        document.getElementById('volumeSlider').value = Math.round(settings.volume * 100);
        document.getElementById('volumeValue').textContent = Math.round(settings.volume * 100) + '%';
        document.getElementById('quietStart').value = settings.muteAt.start;
        document.getElementById('quietEnd').value = settings.muteAt.end;
        document.getElementById('vibrationToggle').classList.toggle('active', settings.useVibration);
        
        updateAudioStatus(settings.enabled);
    }
}

function setupEventListeners() {
    // ØªØ¨Ø¯ÙŠÙ„ ØªÙØ¹ÙŠÙ„ Ø§Ù„ØµÙˆØª
    document.getElementById('audioToggle').addEventListener('click', function() {
        this.classList.toggle('active');
        const enabled = this.classList.contains('active');
        updateAudioStatus(enabled);
        
        if (window.audioManager) {
            window.audioManager.updateSettings({ enabled });
        }
    });

    // ØªØ­Ø¯ÙŠØ« Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµÙˆØª
    document.getElementById('volumeSlider').addEventListener('input', function() {
        const volume = this.value / 100;
        document.getElementById('volumeValue').textContent = this.value + '%';
        
        if (window.audioManager) {
            window.audioManager.updateSettings({ volume });
        }
    });

    // ØªØ­Ø¯ÙŠØ« Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ù‡Ø¯ÙˆØ¡
    document.getElementById('quietStart').addEventListener('change', function() {
        updateQuietHours();
    });
    
    document.getElementById('quietEnd').addEventListener('change', function() {
        updateQuietHours();
    });

    // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø§Ù‡ØªØ²Ø§Ø²
    document.getElementById('vibrationToggle').addEventListener('click', function() {
        this.classList.toggle('active');
        const useVibration = this.classList.contains('active');
        
        if (window.audioManager) {
            window.audioManager.updateSettings({ useVibration });
        }
    });
}

function updateAudioStatus(enabled) {
    const statusElement = document.getElementById('audioStatus');
    if (enabled) {
        statusElement.className = 'status-indicator status-enabled';
        statusElement.innerHTML = '<i class="fas fa-circle"></i> Ù…ÙØ¹Ù„';
    } else {
        statusElement.className = 'status-indicator status-disabled';
        statusElement.innerHTML = '<i class="fas fa-circle"></i> Ù…Ø¹Ø·Ù„';
    }
}

function updateQuietHours() {
    const start = document.getElementById('quietStart').value;
    const end = document.getElementById('quietEnd').value;
    
    if (window.audioManager) {
        window.audioManager.updateSettings({
            muteAt: { start, end }
        });
    }
}

async function testSound(type, subType) {
    if (!window.audioManager) {
        alert('Ù…Ø¯ÙŠØ± Ø§Ù„ØµÙˆØª ØºÙŠØ± Ù…ØªØ§Ø­');
        return;
    }

    try {
        switch(type) {
            case 'prayer':
                await window.audioManager.testPrayerSound(subType);
                break;
            case 'azkar':
                await window.audioManager.testAzkarSound(subType);
                break;
            case 'quran':
                await window.audioManager.playQuranSound();
                break;
            case 'tasbeh':
                await window.audioManager.playTasbehSound();
                break;
            case 'general':
                await window.audioManager.playGeneralNotification();
                break;
        }
    } catch (error) {
        console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª:', error);
        alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª. ØªØ£ÙƒØ¯ Ù…Ù† ØªÙ…ÙƒÙŠÙ† Ø§Ù„Ø£ØµÙˆØ§Øª ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­.');
    }
}

function saveAudioSettings() {
    if (window.audioManager) {
        // Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ø­ÙÙˆØ¸Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„ØªØºÙŠÙŠØ±
        alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ù†Ø¬Ø§Ø­! âœ…');
    } else {
        alert('Ø®Ø·Ø£: Ù…Ø¯ÙŠØ± Ø§Ù„ØµÙˆØª ØºÙŠØ± Ù…ØªØ§Ø­');
    }
}

function resetToDefaults() {
    if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØµÙˆØª Ø¥Ù„Ù‰ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©ØŸ')) {
        const defaultSettings = {
            enabled: true,
            volume: 0.7,
            muteAt: { start: '23:00', end: '06:00' },
            useVibration: true
        };
        
        if (window.audioManager) {
            window.audioManager.updateSettings(defaultSettings);
            loadAudioSettings(); // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
            alert('ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ù†Ø¬Ø§Ø­! âœ…');
        }
    }
}
</script>
{% endblock %}
